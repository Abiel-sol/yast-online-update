/*
 *************************************************************
 *
 *     YaST2      SuSE Labs                        -o)
 *     --------------------                        /\\
 *                                                _\_v
 *           www.suse.de / www.suse.com
 * ----------------------------------------------------------
 *
 * Author:        Gabriele Strattner <gs@suse.de>
 *
 * Purpose:
 *
 * Modify:
 *
 * external function:
 *
 *
 *************************************************************

 $Id$

*/

{
    ////////////////////////////////////////////////////////////
    // Testmode, for example fo screenshots
    boolean test_mode    = lookup ( user_settings, "test_mode", false );

    ////////////////////////////////////////////////////////////
    // Read the current architecture (no architecture depended modes yet
    // string architecture = lookup( user_settings, "architecture", default_architecture);



    //////////////////////////////////////////////////////////////////////////////////////
    //                                  P O P U P S                                     //
    //////////////////////////////////////////////////////////////////////////////////////

    // None at the moment
    

    /////////////////////////////////////////////////////////////////////////////////////////////////////
    // MAIN:
    /////////////////////////////////////////////////////////////////////////////////////////////////////

    // Options to test this modules, but the other modules are in testmode:
    // test_mode   = true;
    // test_mode   = false;
    // todo: comment all options above


    term contents =
	    // main dialog: 
	`VBox(
	      `VSpacing( 0.2 ),
	      `Frame( _("Package Update information"),
		      `VBox(`VSpacing(0.5),
			    `Label(_("Update is finished.
Error messages: 0
Installed security patches: 3
Installed recommended patches: 2")),
			    `VSpacing(0.5),
			    `PushButton(`id(`details), `opt(`notify),
					_("Show &details") ),
			    `VSpacing(0.5)
			    )
		      ),
	      `VSpacing( 0.2 )
	      );
    
    string help_text = "";

    // helptext  "main dialog online_update" 
    help_text =  UI("<p>My helptext</p>");

     // using SetContents (define in online_update.ycp)
     UI(`SetWizardContents("Online Update Confirmation", contents, help_text, true, true ));

     // changing Label to Finish for the last step
     UI(`ChangeWidget(`id(`next), `Label,  _("&Finish") ) );
      
   ///////////////////////////////////////////////////////////////////////////////////////////////////////////
   ////  Loop for User Input ....
   ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    symbol ret = `next;

    repeat
    {
        ret= UI(`UserInput());

        ////////////////////////////////////////////////////////////////////////////////////////////////////////
        ////  FINISH
        ////////////////////////////////////////////////////////////////////////////////////////////////////////
	
        if (ret == `next)
        {

	}


        ////////////////////////////////////////////////////////////////////////////////////////////////////////
        ////  
        ////////////////////////////////////////////////////////////////////////////////////////////////////////

	if ( ret == `back)
	{
	    UI(`ChangeWidget(`id(`next), `Label,  _("&Next") ) );
	}

  } until (ret == `next || ret == `back || ret == `cancel);
    
   return ret;
}



